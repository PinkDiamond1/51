const createSTPEngine=function(e){const{bank:t,parseCurl:c,restEngine:s}=e;!async function e(){!async function(){const e=(new Date).getTime();for(const a of t.customers)if("created"===a.status&&e-new Date(a.createdAt).getTime()>1e4){const e="curl "+a.url+" -u stp.engine -Xpatch -dstatus=active",t=c(e);await s.executeRequest(t)}for(const a of t.payments)if("created"===a.status&&e-new Date(a.createdAt).getTime()>1e4){const e="curl "+a.url+" -u stp.engine -Xpatch -dstatus=completed",t=c(e);await s.executeRequest(t)}for(const a of t.accounts)if("created"===a.status&&e-new Date(a.createdAt).getTime()>1e4){const e="curl "+a.url+" -u stp.engine -Xpatch -dstatus=active",t=c(e);await s.executeRequest(t)}}(),setTimeout(e,1e4)}()};
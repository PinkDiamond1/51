const createParseCurl=function(t){const r=void 0!==t&&void 0!==t.isValidURL?t.isValidURL:function(){return!0};return function(t){let e=0;for(;;e++){const r=t.charAt(e);if(" "!==r&&("\t"!==r&&"\n"!==r&&"\r"!==r))break}const s=t.substring(e);if(s.startsWith("curl "))e+=5;else if(s.startsWith("curl\t"))e+=5;else if(s.startsWith("curl\\\n"));else{if("curl"!==s)return{error:"expecting curl",code:0};e+=4}const i=function(t,r){const e=[];for(;;r++){for(;;){const e=t.charAt(r);if(" "!==e)if("\t"!==e){if("\\"!==e||"\n"!==t.charAt(r+1))break;r+=2}else r++;else r++}if(r>=t.length)return e;let s=!1,i=!1,a=[];for(;!(r>=t.length);r++){const e=t.charAt(r);if("\n"===e)break;if("\r"===e)break;if(" "===e&&!1===s&&!1===i)break;if("\t"===e&&!1===s&&!1===i)break;if("\\"===e&&"\n"===t.charAt(r+1)){r++;break}if("\\"===e&&"\r"===t.charAt(r+1)&&"\n"===t.charAt(r+2)){r+=2;break}if("\\"===e&&"\r"===t.charAt(r+1)){r++;break}"'"!==e||!1!==i?'"'!==e||!1!==s?a.push(e):i=!i:s=!s}if(a.length>0){const t=a.join("");e.push(t)}}}(t,e),a={text:t};for(let t=0;t<i.length;t++){let r=i[t];if("-u"===r||"--user"===r)t++,t<i.length&&(a.user=i[t]);else if(r.startsWith("-u")||r.startsWith("--user")){const t=r.startsWith("--user")?r.substring(5):r.substring(2);a.user=t}else if("-d"===r||"--data"===r){if(t++,t<i.length){r=i[t];let e=r.indexOf("=");if(-1!==e){void 0===a.data&&(a.data={});const t=r.substring(0,e),s=r.substring(e+1);if(a.data[t])return{error:"Duplicate parameter in -d or --data"};a.data[t]=s}}}else if(r.startsWith("-d")||r.startsWith("--data")){const t=r.startsWith("--data")?r.substring(5):r.substring(2);let e=t.indexOf("=");if(-1!==e){void 0===a.data&&(a.data={});const r=t.substring(0,e),s=t.substring(e+1);if(a.data[r])return{error:"Duplicate parameter in -d or --data"};a.data[r]=s}}else if("-X"===r||"--request"===r)t++,t<i.length&&(a.method=i[t].toLowerCase());else{if(r.startsWith("-X")||r.startsWith("--request")){const t=r.startsWith("-X")?r.substring(2):r.substring(9);a.method=t.toLowerCase();continue}if(r.startsWith("-"))return{error:"Unsupported option "+r};if(void 0!==a.url)return{error:"Duplicate URL definition ["+a.url+","+r+"]"};a.url=r}}return void 0===a.url?{error:"URL is undefined"}:!1===r(a.url)?{error:"URL not allowed - "+a.url}:a.method&&"get"!==a.method&&"head"!==a.method&&"post"!==a.method&&"put"!==a.method&&"delete"!==a.method&&"connect"!==a.method&&"options"!==a.method&&"trace"!==a.method&&"patch"!==a.method?{error:"Invalid Http Method"}:(void 0===a.method&&a.data&&(a.method="post"),void 0===a.method&&void 0===a.data&&(a.method="get"),a)}};